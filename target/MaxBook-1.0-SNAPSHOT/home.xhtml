<ui:composition template="/pageTemplates/master_template.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:b="http://bootsfaces.net/ui"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

  <ui:define name="content">

    <br/>            

    <!--ADVERTISEMENTS-->
    <div class="ads">
      <p> AD BABY </p>
    </div>

    <br/>            

    <!--MAIN HOME PAGE-->

    <!--Top recent sold books-->

    <!--            <h:form>
    
                    <h:dataTable value="" var="books">
    
                        <h:column>
                            <f:facet name="header">Top selling Books</f:facet>
    #{books.isbn}
    </h:column>


</h:dataTable>

</h:form>-->

    <!--ADS-->

    <div class="container-fluid">
      <div class="col-sm-2">

        <h:form>



          <ui:repeat value="#{adsJpaController.allAds}" var="adv">

            <b:column col-md="12">

              <b:thumbnail>

                <b:image library="images" name="ads/#{adv.imageName}" style="margin-left:0;"/>

              </b:thumbnail>

            </b:column>


          </ui:repeat>



        </h:form>  



      </div>
      <div class="col-sm-8">

        <!--Top selling books-->

        <h:form>

          <b:panel>

            <h2 style="text-align:center"> Best selling books </h2>
            <br/>

            <ui:repeat value="#{homeBackingBean.topSellingBooks}" var="book">

              <b:column col-md="3">                           

                <b:thumbnail>

                  
                  <f:facet name="caption">
                    <h:commandLink  action="#{bookDisplayBacking.showDetails(book.isbn)}" >
                  <b:image library="images" name="/books/#{book.isbn}.jpg"/>

                      <h:outputText value="#{book.title}"/>
                      
<!--                      <f:param name="isbn" value="#{book.isbn}"/>-->
                    </h:commandLink>  

                    <br/>

                    <h:outputText  value="$#{book.listPrice}"/>
                  </f:facet>

                </b:thumbnail>

              </b:column>

            </ui:repeat>

          </b:panel>

        </h:form>


        <br/>
        <br/>


        <!--Top selling books-->

        <h:form>

          <b:panel>

            <h2 style="text-align:center"> Recent sold books </h2>
            <br/>

            <ui:repeat value="#{homeBackingBean.recentSoldBooks}" var="book">

               <b:column col-md="3">                           

                <b:thumbnail>

                  
                  <f:facet name="caption">
                    <h:commandLink  action="#{bookDisplayBacking.showDetails(book.isbn)}" >
                  <b:image library="images" name="/books/#{book.isbn}.jpg"/>

                      <h:outputText value="#{book.title}"/>
                      
<!--                      <f:param name="isbn" value="#{book.isbn}"/>-->
                    </h:commandLink>  

                    <br/>

                    <h:outputText  value="$#{book.listPrice}"/>
                  </f:facet>

                </b:thumbnail>

              </b:column>

            </ui:repeat>

          </b:panel>

        </h:form>



        <!--            <h:form>
        
                        <b:panel>
                            
                              <h2 style="text-align:center"> Most Recently Sold Books </h2>
                              <br/>
        
                              <ui:repeat value="#{homeBackingBean.recentSoldBooks}" var="book">
                                
                                <b:column col-md="3">                           
                                    
                                <b:thumbnail>
                                    
                                    <b:image library="images" name="/books/#{book.isbn}.jpg"/>
                                    
                                    <f:facet name="caption">
                                        <b:commandLink outcome="bookDetails">
                                            
                                            <h:outputText value="#{book.title}"/>
                                                                     
                                        </b:commandLink>
                                        
                                        <br/>
                                        
                                        <h:outputText  value="$#{book.listPrice}"/>
                                    </f:facet>
                                    
                                </b:thumbnail>
                                    
                                </b:column>
        
                            </ui:repeat>
                              
        
        
                        </b:panel>
        
                    </h:form>-->

      </div>



      <div class="col-sm-2">
        <h:form id="surveyForm"> 
          <b:label value="#{surveyBacking.survey.question}" />
          <b:radiobutton value="#{surveyBacking.answer}" required="true">
            <f:selectItem itemValue="1" itemLabel="#{surveyBacking.survey.option1}" />
            <f:selectItem itemValue="2" itemLabel="#{surveyBacking.survey.option2}" />
            <f:selectItem itemValue="3" itemLabel="#{surveyBacking.survey.option3}" />
            <f:selectItem itemValue="4" itemLabel="#{surveyBacking.survey.option4}" />
          </b:radiobutton>
          <b:commandButton value="#{msgs.submit}" look="primary" action="#{surveyBacking.submit}" >
            <f:ajax execute="@form" render=":surveyForm"/>
          </b:commandButton>
        </h:form>
      </div>
    </div>

  </ui:define>

</ui:composition>

