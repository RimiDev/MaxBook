<ui:composition template="/pageTemplates/master_template.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:b="http://bootsfaces.net/ui"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    
    <ui:define name="content">

       <!--SEARCH PANEL-->
       
       <div class="searchPanel">
           
           
           <h2>Advanced Search</h2>
   
           <div class="col-md-12 profile-dashboard">
            <div class="row">
                <div class="container">
                    <b:form class="form-horizontal">
                        <b:tabView contentStyle="border-right: 1px solid #ddd;border-left: 1px solid #ddd;border-bottom: 1px solid #ddd;padding:10px">
                            
                            <!--Search by Title-->
                            <b:tab title="By Title" style="">

                                <div class="add_listing_info">
                                    <h2 class="form-title">Search Title</h2>
                                    <br/>
                                    <div class="form-group">
                                        <label class="col-md-4 col-xs-5 control-label" for="Title">Title</label>
                                        <div class="col-md-5 col-xs-5">
                                            <b:inputText  placeholder="Title"  value="#{searchBackingBean.title}"
                                                          class="form-control input-md"></b:inputText>
                                        </div>
                                    </div>
                                    
                                    <b:commandButton class="btn btn-success" value="Search" action="#{searchBackingBean.getBookByTitle}"/>
                        
                                </div>
                                
                            </b:tab>
                            
                            
                            <!--Search by genre-->
                            
                            <b:tab title="By Genre">

                                <div class="add_listing_info">
                                    <h2 class="form-title">Search Genre</h2>
                                    <br/>
                                    <div class="form-group">
                                        <label class="col-md-4 col-xs-5 control-label" for="Genre">Genre</label>
                                        <div class="col-md-5 col-xs-5">
                                            <b:inputText  placeholder="Genre" value="#{searchBackingBean.genre}"
                                                          class="form-control input-md"></b:inputText>
                                        </div>
                                    </div>
 
                                    <b:commandButton class="btn btn-success" value="Search" action="#{searchBackingBean.getBookByGenre}"/>                                    
                                    
                                </div>
                                
                            </b:tab>
                            
                            <!--Search by Author-->
                            
                            <b:tab title="By Author" style="">

                                <div class="add_listing_info">
                                    <h2 class="form-title">Search Authors</h2>
                                    <br/>
                                        <div class="form-group">
                                        <label class="col-md-4 col-xs-5 control-label">First name</label>
                                        <div class="col-md-5 col-xs-6">
                                            <b:inputText  placeholder="First name"  value="#{searchBackingBean.firstName}"
                                                          class="form-control input-md"></b:inputText>                         
                                        </div>
                                        <div class="col-md-2 col-xs-1">
                                            <b:commandButton class="btn btn-success" value="Search" action="#{searchBackingBean.getBookByFirstName}"/>                                    
                                        </div>
                                    
                                        <div class="form-group">
                                        <label class="col-md-4 col-xs-5 control-label" for="LastName">Last name</label>
                                        <div class="col-md-5 col-xs-6">
                                            <b:inputText  placeholder="Last name" value="#{searchBackingBean.lastName}"
                                                          class="form-control"></b:inputText>                                                        
                                        </div>
                                        <div class="col-md-2 col-xs-1">
                                             <b:commandButton class="btn btn-success" value="Search" action="#{searchBackingBean.getBookByLastName}"/>                                    
                                        </div>                                       
                                        
                                        
                                        
                                        </div>
                                 </div>
                                     
                                </div>
                                
                            </b:tab>
                                
                                </b:tabView>
                        
                        
                    </b:form>

                 </div>
                
            </div>
               
           </div>
           
           <div class="col-md-12">
                                            
            <!--Results-->

            <h:form>

                <b:panel>
                    
                      <h2 style="text-align:center"> Search results </h2>
                      <br/>

                      <ui:repeat value="#{searchBackingBean.searchedBooks}" var="book">
                          
                        
                        <b:column col-md="3">                           
                            
                        <b:thumbnail>
                             

                            
                            <f:facet name="caption">
                                <b:commandLink outcome="bookDetails">

                                    <b:image library="images" name="/books/#{book.isbn}.jpg" tooltip="#{book.genre}"/>
                                    <h:outputText value="#{book.title}"/>
                                                             
                                </b:commandLink>
                                
                                <br/>
                                
                                <h:outputText  value="$#{book.listPrice}"/>
                                <br/>
                                <ui:repeat value="#{searchBackingBean.getFullName(book)}" var="authors">
                                <h:outputText value="#{authors}"/>
                                <br/>
                                </ui:repeat>
                            </f:facet>
                            
                        </b:thumbnail>
                            
                        </b:column>

                       </ui:repeat> 


                      
                      
                </b:panel>
                
            </h:form>
            
           </div>
 
           
           
           
           
           
           
           
<!--           <h:form>
                       
            <p:outputLabel value="#{msgs.typeLabel}"
                                     for="type"/>
        
        
             <p:selectOneMenu value="#{search.searchType}" 
                                      id="type"
                                      style="width:18%;">
                 <f:selectItem itemLabel="#{msgs.byTitleLabel}" itemValue="title"/>             
             <f:selectItem itemLabel="#{msgs.byGenreLabel}" itemValue="genre"/>     
             <f:selectItem itemLabel="#{msgs.byAuthorLabel}" itemValue="author" />
             <f:selectItem itemLabel="#{msgs.byPublisherLabel}" itemValue="publisher" />
             <f:selectItem itemLabel="#{msgs.byDateLabel}" itemValue="date" />   
             
             <f:ajax render="@form" />
                   
            </p:selectOneMenu>

         
             TITLE SEARCH FORM            
    <h:panelGroup rendered="#{search.searchType == 'title'}">
        <br/>
        <h:form>
        <p:outputLabel value="#{msgs.titleLabel}"
                                 for="title"/>
        <p:inputText  value="#{search.searchQuery}" id="title"/>
        <p:commandButton value="Search" action="search"/>
        </h:form>
    </h:panelGroup>
             
             GENRE SEARCH FORM
    <h:panelGroup rendered="#{search.searchType == 'genre'}">
        <br/>
        <h:form>
            <p:outputLabel value="#{msgs.genreLabel}"
                                     for='genre'/>
            <p:inputText value="#{search.searchQuery}" id="genre"/>
            <p:commandButton value="Search" action="search"  />
        </h:form>
    </h:panelGroup>
             
             AUTHOR SEARCH FORM
    <h:panelGroup rendered="#{search.searchType == 'author'}">
        <br/>
        <h:form>
            <p:outputLabel value="#{msgs.authorLabel}"
                                     for='author'/>
            <p:inputText value="#{search.searchQuery}" id="author"/>
            <p:commandButton value="Search" action="search"  />
        </h:form>
    </h:panelGroup>
             
                          PUBLISHER SEARCH FORM
    <h:panelGroup rendered="#{search.searchType == 'publisher'}">
        <br/>
        <h:form>
            <p:outputLabel value="#{msgs.publisherLabel}"
                                     for='publisher'/>
            <p:inputText value="#{search.searchQuery}" id="publisher"/>
            <p:commandButton value="Search" action="search"  />
        </h:form>
    </h:panelGroup>
                          
                           DATE SEARCH FORM
    <h:panelGroup rendered="#{search.searchType == 'date'}" class="searchPanel">
        <br/>
        <h:form>           
        
        <br/>
        
        <p:outputLabel for="startDate" value="#{msgs.startDateLabel}" />
        <p:calendar id="startDate" value="#{search.endDay}" effect="fold" />
        
        <br/>
        
        <p:outputLabel for="endDate" value="#{msgs.endDateLabel}" />
        <p:calendar id="endDate" value="#{search.startDay}" effect="fold" />
        
        <br/>
        
        <p:commandButton value="Search" action="search"  />
        </h:form>
        
    </h:panelGroup>                         
             
             </h:form>-->
             
            
<!--            <script type="text/javascript">
                function myFunction(){
                    if (getElementById(titleSearch) == )
                alert("Hello World!");
                }
            </script>-->
            
            <br/>
       
<!--            <p:outputLabel value="#{msgs.searchLabel}"
                                 for="search"/>
            <p:inputText value="#{user.searched}"
                             id="search"/>-->
        
        
        
       </div>
       

    
    </ui:define>
    
                    
</ui:composition>