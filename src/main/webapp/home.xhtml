<ui:composition template="/pageTemplates/master_template.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:b="http://bootsfaces.net/ui"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets">    
    
    <ui:define name="title">Home</ui:define>
    <ui:define name="css">
    </ui:define>
    <ui:define name="content">
        <h:form id="form">
            <div>
                <div class="ui-g">
                    <div class="ui-g-3"></div>
                    <ui:repeat value="#{adsJpaController.getFrontAds()}" var="adv">
                        <div class="ui-g-4">
                            <a href="#{adv.siteLink}">
                                <b:image library="images" name="ads/#{adv.imageName}" styleClass="adImage"/>
                            </a>
                        </div>
                    </ui:repeat>
                </div>
            </div>
            <div>
                <div class="ui-g">
                    <div class="ui-g-4"></div>
                    <div class="ui-g-4"><h3 style="text-align: center;"><h:outputText value="#{msgs.bestSellingBook}"/></h3></div>
                    <div class="ui-g-4"></div>
                </div>
                <p:ring id="topBooks" value="#{homeBackingBean.topSellingBooks}" var="book" styleClass="image-ring" easing="easeInOutBack" style="width: 50%">
                    <p:graphicImage id="img" library="images" name="/books/#{book.isbn}.jpg" styleClass="ringimg"/>
                    <h:commandLink value="#{books.title}" action="#{bookDisplayBacking.showDetails(book.isbn)}" >
                        <p:button icon="ui-icon-search"/>
                        <f:param name="isbn" value="#{book.isbn}"/>
                    </h:commandLink>
                </p:ring>
            </div>
            <br/><br/><br/><br/><br/><br/><br/><br/>
            <div>
                <div class="ui-g">
                    <div class="ui-g-2"></div>
                    <ui:repeat value="#{adsJpaController.getBackAds()}" var="adv">
                        <div class="ui-g-3">
                            <a href="#{adv.siteLink}">
                                <b:image library="images" name="ads/#{adv.imageName}" styleClass="adImage"/>
                            </a>
                        </div>
                    </ui:repeat>
                </div>
            </div>
            <div>
                <div class="ui-g">
                    <div class="ui-g-4"></div>
                    <div class="ui-g-4"><h3 style="text-align: center;"><h:outputText value="#{msgs.recentSoldBook}"/></h3></div>
                    <div class="ui-g-4"></div>
                </div>
                <p:ring id="recentBooks" value="#{homeBackingBean.recentSoldBooks}" var="book" styleClass="image-ring" easing="easeInOutBack" style="width: 50%">
                    <p:graphicImage id="img" library="images" name="/books/#{book.isbn}.jpg" styleClass="ringimg"/>
                    <h:commandLink value="#{books.title}" action="#{bookDisplayBacking.showDetails(book.isbn)}" >
                        <p:button icon="ui-icon-search"/>
                        <f:param name="isbn" value="#{book.isbn}"/>
                    </h:commandLink>
                </p:ring>
            </div>
        </h:form>
        <br/><br/><br/><br/><br/><br/><br/><br/>
        <div class="ui-g">
            <div class="ui-g-4"></div>
            <div class="ui-g-4">
                <p:scrollPanel style="width:100%;height:300px;">
                    <p:feedReader value="http://rss.cbc.ca/lineup/topstories.xml" var="feed" size="5">
                        <h:outputText value="#{feed.title}" style="font-weight: bold;display:block"/>
                        <h:outputText value="#{feed.description.value}" escape="false"/>
                        <p:separator />
                    </p:feedReader>
                </p:scrollPanel>
            </div>
            <div class="ui-g-4"></div>
        </div>
        <b:row>
            <b:panel col-sm="4" offset="4" style="text-align: center">
                <h:form id="surveyForm"> 
                    <b:label value="#{surveyBacking.survey.question}" />
                    <b:radiobutton value="#{surveyBacking.answer}" required="true">
                        <f:selectItem itemValue="1" itemLabel="#{surveyBacking.survey.option1}" />
                        <f:selectItem itemValue="2" itemLabel="#{surveyBacking.survey.option2}" />
                        <f:selectItem itemValue="3" itemLabel="#{surveyBacking.survey.option3}" />
                        <f:selectItem itemValue="4" itemLabel="#{surveyBacking.survey.option4}" />
                    </b:radiobutton>
                    <b:commandButton value="#{msgs.submit}" look="primary" action="#{surveyBacking.submit}" >
                        <f:ajax execute="@form" render=":surveyForm"/>
                    </b:commandButton>
                </h:form>
            </b:panel>
        </b:row>
    </ui:define>
    >>>>>>> beta
</ui:composition>
